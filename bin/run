#!/usr/bin/env node
const { Command } = require('commander');
const { version } = require('../package.json');
const { FromPt } = require('../lib/commands/from/pt');
const { ToPt } = require('../lib/commands/to/pt');
const { FromRem } = require('../lib/commands/from/rem');
const { ToRem } = require('../lib/commands/to/rem');
const { ToRGB } = require('../lib/commands/to/rgb');
const { ToJoules } = require('../lib/commands/joules');
const { DEFAULT_BASEFONT } = require('../lib/constants');

const program = new Command();

program
  .version(version)
  .description('Pixel Conversion CLI');

program
  .command('from:pt')
  .arguments('<point>', 'Point to convert')
  .description('Convert a given point (pt) value to the corresponding pixel value')
  .action(FromPt);

program
  .command('to:pt')
  .arguments('<pixel>', 'Pixel to convert')
  .description('Convert a given pixel value to the corresponding point value')
  .action(ToPt);

program
  .command('from:rem')
  .arguments('<rem>', 'Rem to convert')
  .description('Convert a given rem value to the corresponding pixel value')
  .option('-b, --base', 'Base pixel', DEFAULT_BASEFONT)
  .action(FromRem);

program
  .command('to:rem')
  .arguments('<pixel>', 'Pixel to convert')
  .description('Convert a given pixel value to the corresponding rem value')
  .option('-b, --base', 'Base pixel', DEFAULT_BASEFONT)
  .action(ToRem);

program
  .command('to:rgb')
  .arguments('<hex>', 'Hex value')
  .description('Convert a given hex value to the corresponding rgb value')
  .action(ToRGB);

program
  .command('joules')
  .description('Take mass and height as input and returns the potential energy in Joules')
  .action(ToJoules);

program.parse(process.argv);